{% extends "base.html" %}
{% block title %}Your Cart â€” Bodega Talks{% endblock %}
{% block content %}
<section class="hero" style="background: var(--brand);">
  <h1>Your Cart</h1>
  <div style="max-width:900px;margin:0 auto;">
    {% if cart|length %}
      <table style="width:100%;border-collapse:collapse;background:#fff;border-radius:12px;overflow:hidden;">
        <thead><tr>
          <th style="text-align:left;padding:12px;">Item</th>
          <th>Qty</th>
          <th>Price</th>
          <th>Total</th>
          <th></th>
        </tr></thead>
        <tbody>
          {% for item in cart %}
          <tr style="border-top:1px solid #eee;">
            <td style="padding:12px;">{{ item.product.name }}</td>
            <td style="text-align:center;">{{ item.quantity }}</td>
            <td style="text-align:center;">${{ item.price }}</td>
            <td style="text-align:center;">${{ item.total }}</td>
            <td style="text-align:center;">
              <a class="btn" href="{% url 'cart:remove' item.product.id %}">Remove</a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
      <p style="margin-top:1rem;font-weight:700;">Cart total: ${{ cart.get_total_price }}</p>
      <a class="btn" href="{% url 'checkout:checkout' %}">Checkout</a>
    {% else %}
      <p>Your cart is empty.</p>
    {% endif %}
  </div>
</section>
{% endblock %}
